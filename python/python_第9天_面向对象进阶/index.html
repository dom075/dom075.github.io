<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.73.0" />

  <title>Python 第9天 面向对象进阶 &middot; Jed Wu</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="Python 第9天 面向对象进阶">
<meta itemprop="description" content="装饰器 简单理解就是@property的getter（访问器）、setter（修改器）
class Person(object): def __init__(self, name, age): self._name = name self.">
<meta itemprop="datePublished" content="2020-06-09T17:51:56&#43;08:00" />
<meta itemprop="dateModified" content="2020-06-09T17:51:56&#43;08:00" />
<meta itemprop="wordCount" content="598">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python 第9天 面向对象进阶"/>
<meta name="twitter:description" content="装饰器 简单理解就是@property的getter（访问器）、setter（修改器）
class Person(object): def __init__(self, name, age): self._name = name self."/>


<meta property="og:title" content="Python 第9天 面向对象进阶" />
<meta property="og:description" content="装饰器 简单理解就是@property的getter（访问器）、setter（修改器）
class Person(object): def __init__(self, name, age): self._name = name self." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dom075.github.io/python/python_%E7%AC%AC9%E5%A4%A9_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/" />
<meta property="article:published_time" content="2020-06-09T17:51:56+08:00" />
<meta property="article:modified_time" content="2020-06-09T17:51:56+08:00" />



  <link type="text/css"
        rel="stylesheet"
        href="/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/css/hyde.css">

  


  <link type="text/css" rel="stylesheet" href="/css/blog.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <img src="/images/profile/Jed_Wu_Cartoon.JPG" class="img-circle img-headshot center" alt="Profile Picture">
        </div>
        
      

      <h1>Jed Wu</h1>

      
      <p class="lead">个人技术博客</p>
      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://dom075.github.io/">Home</a>
        </li>
        <li>
          <a href="/java/">Java</a>
        </li><li>
          <a href="/javascript/">JavaScript</a>
        </li><li>
          <a href="/python/">Python</a>
        </li><li>
          <a href="/about/">About</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="#" rel="me" title="Linkedin" target="_blank">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1>Python 第9天 面向对象进阶</h1>

  <div class="post-date">
    <time datetime="2020-06-09T17:51:56&#43;0800">Jun 9, 2020</time> &middot; 3 min read
  </div>

  <hr>
<h2 id="装饰器">装饰器</h2>
<p>简单理解就是@property的getter（访问器）、setter（修改器）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>(object):

    <span style="color:#66d9ef">def</span> __init__(self, name, age):
        self<span style="color:#f92672">.</span>_name <span style="color:#f92672">=</span> name
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#75715e"># 访问器 - getter方法</span>
    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_name

    <span style="color:#75715e"># 访问器 - getter方法</span>
    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_age

    <span style="color:#75715e"># 修改器 - setter方法</span>
    <span style="color:#a6e22e">@age.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self, age):
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">play</span>(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_age <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">16</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在玩飞行棋.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在玩斗地主.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;王大锤&#39;</span>, <span style="color:#ae81ff">12</span>)
    person<span style="color:#f92672">.</span>play()
    person<span style="color:#f92672">.</span>age <span style="color:#f92672">=</span> <span style="color:#ae81ff">22</span>
    person<span style="color:#f92672">.</span>play()
    <span style="color:#75715e"># person.name = &#39;白元芳&#39;  # AttributeError: can&#39;t set attribute</span>


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    main()
</code></pre></div><p>深入理解的话，装饰器其实就是高阶函数的使用，属于函数式编程的范式。下面的@log，相当于执行了now = log(now) 复杂点的话，这个装饰器里还可以设参数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">log</span>(func):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;call </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">():&#39;</span> <span style="color:#f92672">%</span> func<span style="color:#f92672">.</span>__name__)
        <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw)
    <span style="color:#66d9ef">return</span> wrapper
    
<span style="color:#a6e22e">@log</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">now</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;2015-3-25&#39;</span>)   

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>: 
    now()
<span style="color:#75715e">#输出：    </span>
call now():
<span style="color:#ae81ff">2015</span><span style="color:#f92672">-</span><span style="color:#ae81ff">3</span><span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>
</code></pre></div><h2 id="__slots__-限定属性">__slots__ 限定属性</h2>
<p>Python是一门<a href="https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E8%AF%AD%E8%A8%80">动态语言</a>。通常，动态语言允许我们在程序运行时给对象绑定新的属性或方法，当然也可以对已经绑定的属性和方法进行解绑。<br>
如果需要限定自定义类型的对象只能绑定某些属性，可以通过在类中定义__slots__变量来进行限定。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>(object):

    <span style="color:#75715e"># 限定Person对象只能绑定_name, _age和_gender属性</span>
    __slots__ <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;_name&#39;</span>, <span style="color:#e6db74">&#39;_age&#39;</span>, <span style="color:#e6db74">&#39;_gender&#39;</span>)

    <span style="color:#66d9ef">def</span> __init__(self, name, age):
        self<span style="color:#f92672">.</span>_name <span style="color:#f92672">=</span> name
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_name

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_age

    <span style="color:#a6e22e">@age.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self, age):
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">play</span>(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_age <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">16</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在玩飞行棋.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在玩斗地主.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;王大锤&#39;</span>, <span style="color:#ae81ff">22</span>)
    person<span style="color:#f92672">.</span>play()
    person<span style="color:#f92672">.</span>_gender <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;男&#39;</span>
    <span style="color:#75715e"># AttributeError: &#39;Person&#39; object has no attribute &#39;_is_gay&#39;</span>
    <span style="color:#75715e"># person._is_gay = True</span>
</code></pre></div><h2 id="静态方法和类方法">静态方法和类方法</h2>
<p>@staticmethod 静态方法就是不需要初始化类就可以使用的方法，一般用于在新建对象之前，检查参数是否满足新建的条件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> sqrt


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Triangle</span>(object):

    <span style="color:#66d9ef">def</span> __init__(self, a, b, c):
        self<span style="color:#f92672">.</span>_a <span style="color:#f92672">=</span> a
        self<span style="color:#f92672">.</span>_b <span style="color:#f92672">=</span> b
        self<span style="color:#f92672">.</span>_c <span style="color:#f92672">=</span> c

    <span style="color:#a6e22e">@staticmethod</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_valid</span>(a, b, c):
        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b <span style="color:#f92672">&gt;</span> c <span style="color:#f92672">and</span> b <span style="color:#f92672">+</span> c <span style="color:#f92672">&gt;</span> a <span style="color:#f92672">and</span> a <span style="color:#f92672">+</span> c <span style="color:#f92672">&gt;</span> b

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">perimeter</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_a <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>_b <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>_c

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">area</span>(self):
        half <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>perimeter() <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
        <span style="color:#66d9ef">return</span> sqrt(half <span style="color:#f92672">*</span> (half <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>_a) <span style="color:#f92672">*</span>
                    (half <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>_b) <span style="color:#f92672">*</span> (half <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>_c))


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    a, b, c <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>
    <span style="color:#75715e"># 静态方法和类方法都是通过给类发消息来调用的</span>
    <span style="color:#66d9ef">if</span> Triangle<span style="color:#f92672">.</span>is_valid(a, b, c):
        t <span style="color:#f92672">=</span> Triangle(a, b, c)
        <span style="color:#66d9ef">print</span>(t<span style="color:#f92672">.</span>perimeter())
        <span style="color:#75715e"># 也可以通过给类发消息来调用对象方法但是要传入接收消息的对象作为参数</span>
        <span style="color:#75715e"># print(Triangle.perimeter(t))</span>
        <span style="color:#66d9ef">print</span>(t<span style="color:#f92672">.</span>area())
        <span style="color:#75715e"># print(Triangle.area(t))</span>
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;无法构成三角形.&#39;</span>)


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    main()
</code></pre></div><p>@classmethod 类方法也不需要初始化类，作用是一个类在__init__方法中设置了属性的初始值，但是我要特定化这些初始值，就可以用类方法来实现。（注意类方法的首个参数约定为cls，不是self）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> time, localtime, sleep


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Clock</span>(object):
    <span style="color:#e6db74">&#34;&#34;&#34;数字时钟&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> __init__(self, hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, second<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>):
        self<span style="color:#f92672">.</span>_hour <span style="color:#f92672">=</span> hour
        self<span style="color:#f92672">.</span>_minute <span style="color:#f92672">=</span> minute
        self<span style="color:#f92672">.</span>_second <span style="color:#f92672">=</span> second

    <span style="color:#a6e22e">@classmethod</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">now</span>(cls):
        ctime <span style="color:#f92672">=</span> localtime(time())
        <span style="color:#66d9ef">return</span> cls(ctime<span style="color:#f92672">.</span>tm_hour, ctime<span style="color:#f92672">.</span>tm_min, ctime<span style="color:#f92672">.</span>tm_sec)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">run</span>(self):
        <span style="color:#e6db74">&#34;&#34;&#34;走字&#34;&#34;&#34;</span>
        self<span style="color:#f92672">.</span>_second <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_second <span style="color:#f92672">==</span> <span style="color:#ae81ff">60</span>:
            self<span style="color:#f92672">.</span>_second <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
            self<span style="color:#f92672">.</span>_minute <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_minute <span style="color:#f92672">==</span> <span style="color:#ae81ff">60</span>:
                self<span style="color:#f92672">.</span>_minute <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                self<span style="color:#f92672">.</span>_hour <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
                <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_hour <span style="color:#f92672">==</span> <span style="color:#ae81ff">24</span>:
                    self<span style="color:#f92672">.</span>_hour <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show</span>(self):
        <span style="color:#e6db74">&#34;&#34;&#34;显示时间&#34;&#34;&#34;</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%02d</span><span style="color:#e6db74">:</span><span style="color:#e6db74">%02d</span><span style="color:#e6db74">:</span><span style="color:#e6db74">%02d</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> \
               (self<span style="color:#f92672">.</span>_hour, self<span style="color:#f92672">.</span>_minute, self<span style="color:#f92672">.</span>_second)


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    <span style="color:#75715e"># 通过类方法创建对象并获取系统时间</span>
    clock <span style="color:#f92672">=</span> Clock<span style="color:#f92672">.</span>now()
    <span style="color:#66d9ef">while</span> True:
        <span style="color:#66d9ef">print</span>(clock<span style="color:#f92672">.</span>show())
        sleep(<span style="color:#ae81ff">1</span>)
        clock<span style="color:#f92672">.</span>run()


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    main()
</code></pre></div><h2 id="继承和多态">继承和多态</h2>
<h3 id="书写格式">书写格式</h3>
<p>父类（无继承类）：<br>
 class Person(object):<br>
 *****<br>
子类：<br>
 class Student(Person):<br>
 *****</p>
<p>在子类的__init__中记得要引用父类的super().__init__(name, age)<br>
示例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>(object):
    <span style="color:#e6db74">&#34;&#34;&#34;人&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> __init__(self, name, age):
        self<span style="color:#f92672">.</span>_name <span style="color:#f92672">=</span> name
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_name

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_age

    <span style="color:#a6e22e">@age.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self, age):
        self<span style="color:#f92672">.</span>_age <span style="color:#f92672">=</span> age

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">play</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在愉快的玩耍.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">watch_av</span>(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>_age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在观看爱情动作片.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">只能观看《熊出没》.&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_name)


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>(Person):
    <span style="color:#e6db74">&#34;&#34;&#34;学生&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> __init__(self, name, age, grade):
        super()<span style="color:#f92672">.</span>__init__(name, age)
        self<span style="color:#f92672">.</span>_grade <span style="color:#f92672">=</span> grade

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">grade</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_grade

    <span style="color:#a6e22e">@grade.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">grade</span>(self, grade):
        self<span style="color:#f92672">.</span>_grade <span style="color:#f92672">=</span> grade

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">study</span>(self, course):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">的</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">正在学习</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">.&#39;</span> <span style="color:#f92672">%</span> (self<span style="color:#f92672">.</span>_grade, self<span style="color:#f92672">.</span>_name, course))


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Teacher</span>(Person):
    <span style="color:#e6db74">&#34;&#34;&#34;老师&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> __init__(self, name, age, title):
        super()<span style="color:#f92672">.</span>__init__(name, age)
        self<span style="color:#f92672">.</span>_title <span style="color:#f92672">=</span> title

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">title</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_title

    <span style="color:#a6e22e">@title.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">title</span>(self, title):
        self<span style="color:#f92672">.</span>_title <span style="color:#f92672">=</span> title

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">teach</span>(self, course):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s%s</span><span style="color:#e6db74">正在讲</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">.&#39;</span> <span style="color:#f92672">%</span> (self<span style="color:#f92672">.</span>_name, self<span style="color:#f92672">.</span>_title, course))


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    stu <span style="color:#f92672">=</span> Student(<span style="color:#e6db74">&#39;王大锤&#39;</span>, <span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;初三&#39;</span>)
    stu<span style="color:#f92672">.</span>study(<span style="color:#e6db74">&#39;数学&#39;</span>)
    stu<span style="color:#f92672">.</span>watch_av()
    t <span style="color:#f92672">=</span> Teacher(<span style="color:#e6db74">&#39;骆昊&#39;</span>, <span style="color:#ae81ff">38</span>, <span style="color:#e6db74">&#39;砖家&#39;</span>)
    t<span style="color:#f92672">.</span>teach(<span style="color:#e6db74">&#39;Python程序设计&#39;</span>)
    t<span style="color:#f92672">.</span>watch_av()


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    main()
</code></pre></div><h3 id="方法的重写多态">方法的重写（多态）</h3>
<p>在父类中用@abstractmethod来定义一个抽象方法.只声明返回的数据类型、方法名称和所需的参数,然后在子类中直接实现。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> abc <span style="color:#f92672">import</span> ABCMeta, abstractmethod


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Pet</span>(object, metaclass<span style="color:#f92672">=</span>ABCMeta):
    <span style="color:#e6db74">&#34;&#34;&#34;宠物&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> __init__(self, nickname):
        self<span style="color:#f92672">.</span>_nickname <span style="color:#f92672">=</span> nickname

    <span style="color:#a6e22e">@abstractmethod</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_voice</span>(self):
        <span style="color:#e6db74">&#34;&#34;&#34;发出声音&#34;&#34;&#34;</span>
        <span style="color:#66d9ef">pass</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dog</span>(Pet):
    <span style="color:#e6db74">&#34;&#34;&#34;狗&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_voice</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">: 汪汪汪...&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_nickname)


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cat</span>(Pet):
    <span style="color:#e6db74">&#34;&#34;&#34;猫&#34;&#34;&#34;</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_voice</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">: 喵...喵...&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>_nickname)


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
    pets <span style="color:#f92672">=</span> [Dog(<span style="color:#e6db74">&#39;旺财&#39;</span>), Cat(<span style="color:#e6db74">&#39;凯蒂&#39;</span>), Dog(<span style="color:#e6db74">&#39;大黄&#39;</span>)]
    <span style="color:#66d9ef">for</span> pet <span style="color:#f92672">in</span> pets:
        pet<span style="color:#f92672">.</span>make_voice()


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    main()
</code></pre></div>
</div>


  </main>

  <footer>
  <div>
    &copy; Jed Wu 2020

    &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  <script src="/js/blog.js"></script>

  
</body>
</html>
